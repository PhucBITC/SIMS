@model SIMS_Project.Models.InstructorDashboardViewModel

@{
    ViewData["Title"] = "Instructor Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="main-content">
    <div class="welcome-section">
        <h1 class="welcome-title">Welcome back, @User.Identity.Name</h1>

        <p class="welcome-subtitle">Empowering education through innovative digital learning management.</p>

        <div class="p-4 bg-light rounded mt-4">
            <h3 class="text-primary mb-3 h4">
                <i class="fas fa-graduation-cap"></i> Cesus Learning Management System
            </h3>
            <div class="bg-white p-3 rounded mt-3">
                <h4 class="text-primary mb-3 h5">
                    <i class="fas fa-lightbulb"></i> Quick Actions
                </h4>
                <!-- Bo file <a> vao day khi can them quick actions -->
            </div>
        </div>
    </div>

    <div class="stats-grid">
        <a asp-action="ShowAllCourse" asp-controller="Instructor">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-book"></i></div>
                <div class="stat-number">@Model.TotalCourses</div>
                <div class="stat-label">Total Courses</div>
            </div>
        </a>


        <a asp-action="StudentManagement">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-user-graduate"></i></div>
                <div class="stat-number">@Model.TotalStudents</div>
                <div class="stat-label">Total Students</div>
            </div>
        </a>

        <a asp-action="AssignmentManagement">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-tasks"></i></div>
                <div class="stat-number">@Model.TotalAssignments</div>
                <div class="stat-label">Assignments</div>
            </div>
        </a>

        <a asp-action="PendingGrades">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-clock"></i></div>
                <div class="stat-number">@Model.PendingGrades</div>
                <div class="stat-label">Pending Grades</div>
            </div>
        </a>
    </div>

    <div class="content-grid">
        <div class="courses-section">
            <div class="section-header">
                <h2 class="section-title">My Courses</h2>
            </div>
            <div class="courses-grid">
                @foreach (CourseViewModel course in Model.Courses)
                {
                    <div class="course-card">
                        <div class="course-header">
                            <h3 class="course-title">@course.CourseName</h3>
                            <div class="course-stats">
                                <span><i class="fas fa-users"></i> @course.StudentCount students</span>
                                <span><i class="fas fa-tasks"></i> @course.AssignmentCount assignments</span>
                            </div>
                        </div>
                        <div class="course-content">
                            <p class="course-description">
                                @(course.Description != null && course.Description.Length > 100
                                                            ? course.Description.Substring(0, 100) + "..."
                                                            : course.Description)
                            </p>

                            <div class="course-actions">
                                <a asp-action="CourseManager" asp-route-id="@course.Id"
                                    class="btn btn-primary btn-sm w-100">View Course</a>
                            </div>
                        </div>
                    </div>
                }
                @if (Model.Courses.Count == 0)
                {
                    <div class="text-center p-5">
                        <p class="text-muted">You haven't created any courses yet.</p>
                        <a asp-action="CreateCourse" class="btn btn-primary">Create First Course</a>
                    </div>
                }
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-card">
                <div class="section-header">
                    <h3 class="section-title">System Features</h3>
                </div>
                <div class="sidebar-content">
                    <div class="bg-light p-3 rounded mb-3">
                        <h4 class="text-primary h6 mb-2"><i class="fas fa-link"></i> Link Validation</h4>
                        <p class="text-muted small mb-0">Check external links submitted by students for accessibility.
                        </p>
                    </div>
                    <div class="bg-light p-3 rounded">
                        <h4 class="text-primary h6 mb-2"><i class="fas fa-chart-bar"></i> Progress Tracking</h4>
                        <p class="text-muted small mb-0">Monitor student progress and performance.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>